æœ¬æ–‡æ¥æ€»ç»“ä¸€äº›**`æ•°ç»„æ‰å¹³åŒ–`**çš„æ–¹æ³•ã€‚

## åŸç”Ÿflat

`arr.flat(number)`å‚æ•°ä¸ºæ•°å­—ï¼Œä»£è¡¨æ‰å¹³åŒ–çš„å±‚çº§ã€‚è¯¥æ–¹æ³•ä¸ä¼šå½±å“åŸæ•°ç»„ã€‚

* é»˜è®¤å€¼ï¼š`1`ï¼Œèƒ½å¤Ÿæ‰å¹³åŒ–ä¸€å±‚Array
* æ¨èä¼ å…¥`Infinity`

```
let arr = [[1], [[2]]];
console.log(arr.flat());		// [1, Array(1)]
console.log(arr.flat(1));		// [1, Array(1)]
console.log(arr.flat(2));		// [1, 2]
console.log(arr);						//Â [Array(1), Array(1)]
```

ç”±äºæ¯æ¬¡æ‰å¹³åŒ–çš„Arrayå±‚çº§å¯èƒ½ä¸åŒï¼Œæ¨èä¼ å…¥`Infinity`ï¼Œè¿™æ ·æ— è®ºArrayåµŒå¥—å¤šå°‘å±‚çº§ï¼Œéƒ½èƒ½å¤ŸæˆåŠŸæ‰å¹³åŒ–ä¸ºä¸€ç»´æ•°ç»„ã€‚

```
let arr = [[[[[1], [[["1"]]]]]]];
let arr1 = arr.flat(Infinity);
console.log(arr1);		// [1, "1"]
```

## éå†å›è°ƒ

ä¸‹é¢æˆ‘ä»¬é€šè¿‡æ™®é€šç¨‹åºæ¥å®ç°ï¼š

1. å®šä¹‰ä¸€ä¸ªæ–°å˜é‡ï¼Œå­˜å‚¨æ‰å¹³åŒ–åçš„Array
2. éå†+å›è°ƒï¼Œå¦‚æœå…ƒç´ ä¸æ˜¯Arrayï¼Œå°±pushã€‚

```
function Flat(arr) {
  let flatArr = [];
  (function _Flat(arr) {
    for (let val of arr) {
      val instanceof Array ? _Flat(val) : flatArr.push(val);
    }
  })(arr);
  return flatArr;
}
```

```
let arr = [[[[[1], [[["1"]]]]]]];
let arr1 = Flat(arr);
console.log(arr1);	//Â [1, "1"]
console.log(arr);		// [Array(1)]
```

## reduce+concat

ä¹Ÿå¯åˆ©ç”¨reduce+concatï¼Œå½“ç„¶ä¹Ÿè¦ç»“åˆå›è°ƒã€‚

```
function Flat(arr) {
  return arr.reduce((pre, val) => (pre = pre.concat(val instanceof Array ? Flat(val) : val)),[]);
}
```

æ³¨æ„ç‚¹ï¼š

* concatæ–¹æ³•ä¸ä»…èƒ½å¤Ÿåˆå¹¶æ™®é€šå…ƒç´ ï¼Œè‹¥åˆå¹¶çš„å…ƒç´ ä¸ºæ•°ç»„ï¼Œåˆ™ä¼šè‡ªåŠ¨æ‹†è§£ä¸€å±‚å¹¶åˆå¹¶ï¼Œè¿™ä¹Ÿæ˜¯ä¸Šè¿°æ–¹æ³•å®ç°çš„å…³é”®ã€‚

```
let arr = [1];
let arr1 = arr.concat(2, [3], [[4]]);
console.log(arr1);	//Â [1, 2, 3, Array(1)]
```

## while+concat

è¿™ç§æ–¹å¼æ“ä½œçš„æ˜¯åŸArrayï¼Œæ‰€ä»¥ä¼šæ”¹å˜åŸæ•°ç»„ã€‚

* åˆ¤æ–­æ¡ä»¶ä¹Ÿå¯ä½¿ç”¨`arr.some`

```
let arr = [[[[[1], [[["1"]]]]]]];
while (arr.find(Array.isArray)) {
  arr = [].concat(...arr);
}
console.log(arr);
```

## å¥‡æŠ€æ·«å·§

### toString

`array.toString()`è½¬åŒ–åï¼Œä¼šå˜ä¸ºä»¥ä¸‹å½¢å¼ã€‚

```
let arr = [[[[[1], [[["1"]]]]]]];
console.log(arr.toString());	// "1,1"
```

å› æ­¤æˆ‘ä»¬å¯ä»¥ğŸ‘‡

```
arr.toString().split(",");		// ["1", "1"]
```

**ç¼ºç‚¹**ï¼šä¼šå°†åŸæ¥çš„æ•°å€¼ç±»å‹è½¬åŒ–ä¸ºStringã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`JSON.stringify`

### JSON.stringify

`JSON.stringify(obj)`èƒ½å¤Ÿå°†å¯¹è±¡åºåˆ—åŒ–ä¸ºJSONå­—ç¬¦ä¸²ã€‚

```
let arr = [[[[[1], [[["1"]]]]]]];
console.log(JSON.stringify(arr));	// "[[[[[1],[[["1"]]]]]]]"
```

æˆ‘ä»¬åªè¦å°†`[]`è¿™äº›å­—æ ·å»é™¤ï¼Œå†ååºåˆ—åŒ–ä¸ºJSONå¯¹è±¡å³å¯ï¼Œè€Œä¸”è¿™ç§æ–¹å¼ä¸ä¼šå¯¼è‡´å…ƒç´ ç±»å‹è½¬å˜ã€‚

```
JSON.parse(`[${JSON.stringify(arr).replace(/[\[\]]/g, "")}]`)
```

è¯¥æ–¹å¼ä¹Ÿç»å¸¸è¢«ç”¨äº`deepCopy`ï¼Œä½†åœ¨è¿‡ç¨‹ä¸­ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œæ¯”å¦‚ä¸èƒ½æ‹·è´å‡½æ•°ç±»å‹ã€undefinedã€‚è¿™é‡Œå…³äº`deepCopy`ä¸å†èµ˜è¿°ã€‚

